---
import IndexLayout from "./IndexLayout.astro";
import IndexGrid from "../components/IndexGrid.astro";
import LinkBox from "../components/LinkBox.astro";

export interface Post {
  data: { title: string; description?: string; lastUpdatedDate: Date };
  slug: string;
}

export interface Props {
  title: string;
  description: string;
  posts: Post[];
  makeHref: (slug: string) => string;
}

const { title, description, posts, makeHref } = Astro.props;
---

<IndexLayout title={title} description={description}>
  <IndexGrid>
    {
      posts.map((post) => (
        <LinkBox
          title={post.data.title}
          href={makeHref(post.slug)}
          description={post.data.description}
          lastUpdatedDate={post.data.lastUpdatedDate}
        />
      ))
    }
  </IndexGrid>
</IndexLayout>
