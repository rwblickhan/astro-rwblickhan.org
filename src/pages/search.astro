---
import ContentLayout from "../layouts/ContentLayout.astro";
import PagefindSearch from "astro-pagefind/components/Search";

const { title = "Search", description = "Search for rwblickhan.org" } =
  Astro.props;
---

<ContentLayout
  title={title}
  description={description}
  includeResponseLink={false}
>
  <style>
    :root {
      --pagefind-ui-font: Charter, "Bitstream Charter", "Sitka Text", Cambria,
        sans-serif;
    }
  </style>
  <PagefindSearch
    id="search"
    uiOptions={{ showSubResults: true, showImages: false }}
  />
</ContentLayout>

<script>
  // Auto-focus the search input when the page loads
  document.addEventListener("DOMContentLoaded", () => {
    const searchInput = document.querySelector(
      '#search input[type="text"]'
    ) as HTMLInputElement;
    if (searchInput) {
      searchInput.focus();
    }
  });
</script>
